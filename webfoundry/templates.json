{"index.html":"<!doctype html>\n<html>\n  <head>\n    <meta charset=\"utf-8\" />\n    <title>Kankan</title>\n    <meta\n      name=\"viewport\"\n      content=\"width=device-width, initial-scale=1, maximum-scale=1\"\n    />\n    <script type=\"text/javascript\">\n      !localStorage.getItem('webfoundry:dev') &&\n        (function (c, l, a, r, i, t, y) {\n          c[a] =\n            c[a] ||\n            function () {\n              (c[a].q = c[a].q || []).push(arguments);\n            };\n          t = l.createElement(r);\n          t.async = 1;\n          t.src = 'https://www.clarity.ms/tag/' + i;\n          y = l.getElementsByTagName(r)[0];\n          y.parentNode.insertBefore(t, y);\n        })(window, document, 'clarity', 'script', 'ubdofctfo6');\n    </script>\n  </head>\n  <body class=\"flex flex-col [&amp;&gt;div:first-child]:flex-1 min-h-screen\">\n    <script type=\"module\">\n      (async () => {\n        window.rootPrefix = /^\\/(files|preview)\\//.test(location.pathname)\n          ? location.pathname.split('/').slice(0, 4).join('/')\n          : '/';\n        if (rootPrefix === '/' || rootPrefix === '/collab.html')\n          rootPrefix = '.';\n        let wforigin =\n          new URL(location.href).searchParams.get('isolate') || location.origin;\n        if (\n          /^(\\w+\\.)?(webfoundry.app|webfoundry\\d+\\.netlify\\.app|localhost)$/.test(\n            wforigin,\n          )\n        )\n          throw new Error(`Bad isolation origin`);\n        if (new URL(location.href).searchParams.get('isolate') != null) {\n          await navigator.serviceWorker.register('/sw.js');\n          await navigator.serviceWorker.ready;\n          if (!navigator.serviceWorker.controller) return location.reload();\n          let parts = location.pathname.slice(1).split('/');\n          let tabId = parts[1];\n          window.wfThisProject = parts[2];\n          navigator.serviceWorker.addEventListener('message', async event => {\n            let { type, project, path } = event.data || {};\n            if (type !== 'fetch' || wfThisProject !== project) return;\n            let port = event.ports?.[0];\n            if (!port) return;\n            let handler = ev => {\n              let data = ev.data || {};\n              if (\n                data.type !== 'fetch:res' ||\n                data.project !== project ||\n                data.path !== path\n              )\n                return;\n              removeEventListener('message', handler);\n              port.postMessage(data);\n            };\n            addEventListener('message', handler);\n            parent.postMessage({ type: 'fetch', project, path }, wforigin);\n          });\n          let register = () =>\n            navigator.serviceWorker.controller.postMessage({\n              type: 'webfoundry-register-tab',\n              tabId,\n            });\n          navigator.serviceWorker.addEventListener(\n            'controllerchange',\n            register,\n          );\n          register();\n          if (!location.pathname.startsWith('/preview/')) {\n            let path = parts.slice(3).join('/');\n            if (path !== 'index.html') {\n              let handler = async ev => {\n                let data = ev.data || {};\n                if (\n                  data.type !== 'fetch:res' ||\n                  data.project !== wfThisProject ||\n                  data.path !== path\n                )\n                  return;\n                removeEventListener('message', handler);\n                document.open();\n                document.write(await data.data.text());\n                document.close();\n              };\n              addEventListener('message', handler);\n              parent.postMessage(\n                { type: 'fetch', project: wfThisProject, path },\n                wforigin,\n              );\n              return;\n            }\n          }\n          await new Promise(pres => setTimeout(pres, 100));\n        }\n        if (location.pathname.includes('/files/')) return;\n        let [, md, mapp] = await Promise.all([\n          import(`${rootPrefix}/webfoundry/head.js`),\n          import(`${rootPrefix}/webfoundry/dominant.js`),\n          import(`${rootPrefix}/webfoundry/app.js`),\n        ]);\n        document.body.prepend(md.default.el(mapp.default));\n        parent.postMessage(\n          {\n            path: `pages/${location.pathname.slice(1).split('/').slice(3).join('/')}`,\n            type: 'ready',\n            status: 200,\n          },\n          wforigin,\n        );\n      })();\n    </script>\n  </body>\n</html>\n","pages/mailbox.html":"<!doctype html>\n<html>\n  <head>\n    <meta charset=\"utf-8\" />\n    <title>mailbox.html</title>\n    <meta\n      name=\"viewport\"\n      content=\"width=device-width, initial-scale=1, maximum-scale=1\"\n    />\n    <script>\n      window.rootPrefix = /^\\/(files|preview)\\//.test(location.pathname)\n        ? location.pathname.split('/').slice(0, 4).join('/')\n        : '/';\n    </script>\n    <script type=\"module\" src=\"../webfoundry/ifdesigner.js\"></script>\n    <script src=\"../webfoundry/head.js\"></script>\n  </head>\n  <body\n    class=\"flex flex-col [&amp;&gt;div:first-child]:flex-1 min-h-screen\"\n    style=\"display: none\"\n  >\n    <div class=\"flex flex-col\" wf-controller=\"mailbox\">\n      <header\n        class=\"flex flex-wrap items-center gap-4 border-b border-slate-200 bg-white px-6 py-4\"\n      >\n        <h1 class=\"text-2xl font-semibold text-slate-900\">Mailbox</h1>\n        <form class=\"flex min-w-0 flex-1 items-center\">\n          <label class=\"sr-only\" for=\"mail-search\">Search mail</label>\n          <input\n            id=\"mail-search\"\n            type=\"search\"\n            placeholder=\"Search mail\"\n            class=\"w-full rounded-full border border-slate-300 px-5 py-2 text-sm text-slate-700 outline-none transition focus:border-blue-500 focus:ring-2 focus:ring-blue-200\"\n            value=\"\"\n            wf-value=\"state.mailbox.searchQuery\"\n          />\n        </form>\n        <button\n          type=\"button\"\n          class=\"flex items-center gap-2 rounded-full border border-slate-200 bg-slate-50 px-4 py-2 text-sm font-medium text-slate-700 transition hover:border-slate-300 hover:bg-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-300\"\n          value=\"\"\n        >\n          <span\n            class=\"h-8 w-8 rounded-full bg-blue-600 text-center text-sm font-semibold uppercase leading-8 text-white\"\n            >{{state.mailbox.user.initials}}</span\n          >\n          <span>{{state.mailbox.user.name}}</span>\n        </button>\n      </header>\n      <div class=\"flex-1 grid grid-cols-[0.8fr_1fr_2fr]\">\n        <div\n          class=\"flex flex-col gap-4 border-r border-slate-200 bg-white px-6 py-4\"\n        >\n          <button\n            class=\"rounded-full bg-blue-600 px-4 py-2 text-sm font-semibold text-white\"\n            wf-onclick=\"post('mailbox.startCompose')\"\n            value=\"\"\n          >\n            Compose\n          </button>\n          <div class=\"flex flex-col gap-2\">\n            <p class=\"text-sm font-semibold uppercase text-slate-700\">\n              Folders\n            </p>\n            <ul class=\"flex flex-col gap-2 text-sm text-slate-700\">\n              <li wf-map=\"folder of state.mailbox.folders\">\n                <button\n                  class=\"flex w-full items-center gap-2 rounded-full border px-4 py-2 transition hover:bg-slate-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-300\"\n                  wf-onclick=\"post('mailbox.selectFolder', folder.id)\"\n                  wf-class=\"{{state.mailbox.selectedFolderId === folder.id ? 'border-blue-400 bg-slate-50 font-semibold text-slate-900' : 'border-slate-200'}}\"\n                  value=\"\"\n                >\n                  <span class=\"flex-1\">{{folder.name}}</span>\n                  <span\n                    class=\"rounded-full px-4 py-2 text-sm font-semibold\"\n                    wf-class=\"{{folder.badge === 'primary' ? 'bg-blue-600 text-white' : 'bg-slate-50 text-slate-700'}}\"\n                    >{{state.mailbox.folderCounts[folder.id] || 0}}</span\n                  >\n                </button>\n              </li>\n            </ul>\n          </div>\n          <div class=\"flex flex-col gap-2\">\n            <p class=\"text-sm font-semibold uppercase text-slate-700\">Labels</p>\n            <ul class=\"flex flex-col gap-2 text-sm text-slate-700\">\n              <li wf-map=\"label of state.mailbox.labels\">\n                <button\n                  class=\"w-full rounded-full border border-slate-200 px-4 py-2\"\n                  value=\"\"\n                >\n                  {{label}}\n                </button>\n              </li>\n            </ul>\n          </div>\n        </div>\n        <div class=\"flex flex-col border-r border-slate-200 bg-white\">\n          <div\n            class=\"flex items-center justify-between border-b border-slate-200 px-6 py-4\"\n          >\n            <h2 class=\"text-sm font-semibold uppercase text-slate-700\">\n              {{state.mailbox.selectedFolder ? state.mailbox.selectedFolder.name : 'Mailbox'}}\n            </h2>\n            <span class=\"text-sm text-slate-700\"\n              >{{state.mailbox.visibleMessages.length}} messages</span\n            >\n          </div>\n          <ul class=\"flex flex-col\">\n            <li\n              class=\"border-b border-slate-200 px-6 py-6 text-center text-sm text-slate-600\"\n              wf-if=\"!state.mailbox.visibleMessages.length\"\n            >\n              No conversations match your filters.\n            </li>\n            <li\n              class=\"border-b border-slate-200\"\n              wf-map=\"message of state.mailbox.visibleMessages\"\n            >\n              <button\n                class=\"flex w-full flex-col gap-1 px-6 py-4 text-left transition hover:bg-slate-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-300\"\n                wf-onclick=\"post('mailbox.selectMessage', message.id)\"\n                wf-class=\"{{state.mailbox.selectedMessageId === message.id ? 'bg-slate-50' : ''}}\"\n                value=\"\"\n              >\n                <div\n                  class=\"flex items-center justify-between text-sm text-slate-700\"\n                >\n                  <span class=\"font-semibold text-slate-900\"\n                    >{{message.senderName}}</span\n                  >\n                  <span>{{message.dateLabel}}</span>\n                </div>\n                <p class=\"text-sm text-slate-700\">{{message.subject}}</p>\n              </button>\n            </li>\n          </ul>\n        </div>\n        <div class=\"flex h-full flex-col bg-white\">\n          <div\n            class=\"flex flex-1 flex-col\"\n            wf-if=\"!state.mailbox.compose.isOpen &amp;&amp; state.mailbox.selectedMessage\"\n          >\n            <div\n              class=\"flex flex-col gap-6 border-b border-slate-200 px-6 py-4\"\n            >\n              <div class=\"flex flex-wrap items-start justify-between gap-4\">\n                <div>\n                  <p class=\"text-sm uppercase text-slate-700\">Subject</p>\n                  <h2 class=\"text-2xl font-semibold text-slate-900\">\n                    {{state.mailbox.selectedMessage.subject}}\n                  </h2>\n                </div>\n                <div class=\"flex gap-2\">\n                  <button\n                    class=\"rounded-full border border-slate-200 px-4 py-2 text-sm font-medium text-slate-700 transition hover:bg-slate-50\"\n                    type=\"button\"\n                    value=\"\"\n                  >\n                    Reply\n                  </button>\n                  <button\n                    class=\"rounded-full border border-slate-200 px-4 py-2 text-sm font-medium text-slate-700 transition hover:bg-slate-50\"\n                    type=\"button\"\n                    value=\"\"\n                  >\n                    Reply All\n                  </button>\n                  <button\n                    class=\"rounded-full border border-slate-200 px-4 py-2 text-sm font-medium text-slate-700 transition hover:bg-slate-50\"\n                    type=\"button\"\n                    value=\"\"\n                  >\n                    Forward\n                  </button>\n                </div>\n              </div>\n              <dl class=\"grid gap-4 text-sm text-slate-700\">\n                <div class=\"flex flex-wrap gap-2\">\n                  <dt class=\"font-semibold text-slate-900\">From:</dt>\n                  <dd class=\"min-w-0 flex-1\">\n                    {{state.mailbox.selectedMessage.senderName}}\n                    &lt;{{state.mailbox.selectedMessage.senderEmail}}&gt;\n                  </dd>\n                </div>\n                <div class=\"flex flex-wrap gap-2\">\n                  <dt class=\"font-semibold text-slate-900\">To:</dt>\n                  <dd class=\"min-w-0 flex-1\">\n                    {{(state.mailbox.selectedMessage.to || []).join(', ')}}\n                  </dd>\n                </div>\n                <div class=\"flex flex-wrap gap-2\">\n                  <dt class=\"font-semibold text-slate-900\">Cc:</dt>\n                  <dd class=\"min-w-0 flex-1\">\n                    {{state.mailbox.selectedMessage.cc || '--'}}\n                  </dd>\n                </div>\n                <div class=\"flex flex-wrap gap-2\">\n                  <dt class=\"font-semibold text-slate-900\">Date:</dt>\n                  <dd class=\"min-w-0 flex-1\">\n                    {{state.mailbox.selectedMessage.dateFull}}\n                  </dd>\n                </div>\n              </dl>\n            </div>\n            <div\n              class=\"flex-1 overflow-y-auto px-6 py-6 text-sm leading-8 text-slate-700\"\n            >\n              <p>{{state.mailbox.selectedMessage.greeting}}</p>\n              <p\n                class=\"mt-4\"\n                wf-map=\"paragraph of state.mailbox.selectedMessage.bodyParagraphs\"\n              >\n                {{paragraph}}\n              </p>\n              <ul\n                class=\"mt-4 list-disc pl-6\"\n                wf-if=\"state.mailbox.selectedMessage.checklist &amp;&amp; state.mailbox.selectedMessage.checklist.length\"\n              >\n                <li wf-map=\"item of state.mailbox.selectedMessage.checklist\">\n                  {{item}}\n                </li>\n              </ul>\n              <p class=\"mt-6\">{{state.mailbox.selectedMessage.closing}}</p>\n              <p>{{state.mailbox.selectedMessage.signature}}</p>\n            </div>\n          </div>\n          <div\n            class=\"flex flex-1 flex-col\"\n            wf-if=\"state.mailbox.compose.isOpen\"\n          >\n            <div class=\"border-b border-slate-200 px-6 py-4\">\n              <div class=\"flex items-center justify-between\">\n                <div>\n                  <p class=\"text-sm uppercase text-slate-700\">Compose</p>\n                  <h2 class=\"text-2xl font-semibold text-slate-900\">\n                    New Message\n                  </h2>\n                </div>\n                <button\n                  class=\"rounded-full border border-slate-200 px-4 py-2 text-sm font-medium text-slate-700\"\n                  type=\"button\"\n                  wf-onclick=\"post('mailbox.cancelCompose')\"\n                  value=\"\"\n                >\n                  Close\n                </button>\n              </div>\n              <dl class=\"mt-6 grid gap-4 text-sm text-slate-700\">\n                <div class=\"flex flex-wrap gap-2\">\n                  <dt class=\"font-semibold text-slate-900\">From:</dt>\n                  <dd class=\"min-w-0 flex-1\">\n                    {{state.mailbox.user.name}}\n                    &lt;{{state.mailbox.user.email}}&gt;\n                  </dd>\n                </div>\n                <div class=\"flex flex-wrap gap-2\">\n                  <dt class=\"font-semibold text-slate-900\">To:</dt>\n                  <dd class=\"min-w-0 flex-1\">\n                    <input\n                      type=\"text\"\n                      class=\"w-full rounded-lg border border-slate-300 px-3 py-2\"\n                      placeholder=\"Recipient\"\n                      wf-value=\"state.mailbox.compose.to\"\n                      value=\"\"\n                    />\n                  </dd>\n                </div>\n                <div class=\"flex flex-wrap gap-2\">\n                  <dt class=\"font-semibold text-slate-900\">Cc:</dt>\n                  <dd class=\"min-w-0 flex-1\">\n                    <input\n                      type=\"text\"\n                      class=\"w-full rounded-lg border border-slate-300 px-3 py-2\"\n                      placeholder=\"Optional\"\n                      wf-value=\"state.mailbox.compose.cc\"\n                      value=\"\"\n                    />\n                  </dd>\n                </div>\n                <div class=\"flex flex-wrap gap-2\">\n                  <dt class=\"font-semibold text-slate-900\">Subject:</dt>\n                  <dd class=\"min-w-0 flex-1\">\n                    <input\n                      type=\"text\"\n                      class=\"w-full rounded-lg border border-slate-300 px-3 py-2\"\n                      placeholder=\"Subject\"\n                      wf-value=\"state.mailbox.compose.subject\"\n                      value=\"\"\n                    />\n                  </dd>\n                </div>\n              </dl>\n            </div>\n            <div class=\"flex-1 overflow-y-auto px-6 py-6\">\n              <label class=\"block text-sm font-semibold text-slate-900\"\n                >Message</label\n              >\n              <textarea\n                class=\"mt-2 h-full min-h-[240px] w-full rounded-2xl border border-slate-300 px-4 py-3 text-sm text-slate-800 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200\"\n                placeholder=\"Write your message here...\"\n                wf-value=\"state.mailbox.compose.body\"\n                value=\"\"\n              ></textarea>\n            </div>\n            <div\n              class=\"flex items-center justify-between border-t border-slate-200 px-6 py-4\"\n            >\n              <div class=\"text-xs text-slate-500\">\n                {{state.mailbox.user.title}}\n              </div>\n              <div class=\"flex gap-2\">\n                <button\n                  class=\"rounded-full bg-blue-600 px-5 py-2 text-sm font-semibold text-white\"\n                  type=\"button\"\n                  wf-onclick=\"post('mailbox.sendMessage')\"\n                  value=\"\"\n                >\n                  Send\n                </button>\n                <button\n                  class=\"rounded-full border border-slate-200 px-4 py-2 text-sm font-medium text-slate-700\"\n                  type=\"button\"\n                  wf-onclick=\"post('mailbox.cancelCompose')\"\n                  value=\"\"\n                >\n                  Cancel\n                </button>\n              </div>\n            </div>\n          </div>\n          <div\n            class=\"flex flex-1 items-center justify-center text-sm text-slate-500\"\n            wf-if=\"!state.mailbox.compose.isOpen &amp;&amp; !state.mailbox.selectedMessage\"\n          >\n            Select a message to preview the details.\n          </div>\n        </div>\n      </div>\n    </div>\n  </body>\n</html>\n","pages/index.html":"<!doctype html>\n<html>\n  <head>\n    <meta charset=\"utf-8\" />\n    <title></title>\n    <meta\n      name=\"viewport\"\n      content=\"width=device-width, initial-scale=1, maximum-scale=1\"\n    />\n    <script>\n      window.rootPrefix = /^\\/(files|preview)\\//.test(location.pathname)\n        ? location.pathname.split('/').slice(0, 4).join('/')\n        : '/';\n    </script>\n    <script type=\"module\" src=\"../webfoundry/ifdesigner.js\"></script>\n    <script src=\"../webfoundry/head.js\"></script>\n  </head>\n  <body\n    class=\"flex flex-col [&amp;&gt;div:first-child]:flex-1 min-h-screen\"\n    style=\"display: none\"\n  >\n    <div\n      class=\"min-h-screen bg-gradient-to-br from-slate-950 via-blue-900 to-slate-900 text-white p-8 flex flex-col gap-6\"\n      wf-onattach=\"post('app.init')\"\n      wf-controller=\"app\"\n    >\n      <div class=\"flex items-center gap-4\">\n        <div class=\"flex items-center gap-2\">\n          <h1 class=\"text-3xl font-semibold tracking-wide\">Kankan</h1>\n        </div>\n        <div class=\"flex-1 h-px bg-white/40 min-h-0!\"></div>\n\n        <div class=\"relative group\">\n          <button\n            class=\"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-white/30 text-white text-sm font-medium tracking-wide hover:border-white/60 hover:bg-white/10 transition\"\n            type=\"button\"\n            value=\"\"\n          >\n            <span class=\"truncate max-w-32\"\n              >{{state.app.activeBoard?.name || 'Select Board'}}</span\n            >\n            <span class=\"nf nf-md-menu_down text-base\"></span>\n          </button>\n          <div\n            class=\"absolute top-full right-0 pt-3 bg-transparent hidden group-hover:block\"\n          >\n            <div class=\"flex flex-col gap-3 items-end\">\n              <div\n                class=\"w-64 rounded-2xl backdrop-blur border shadow-xl border-white/20 overflow-hidden bg-neutral-950/60\"\n              >\n                <div\n                  class=\"px-4 py-2 text-xs uppercase tracking-[0.3em] text-white/70\"\n                >\n                  Boards\n                </div>\n                <ul\n                  class=\"px-2 pb-2 space-y-2\"\n                  wf-map=\"board of state.app.boards\"\n                >\n                  <li\n                    class=\"flex items-center justify-between gap-2 px-3 py-2 rounded-xl hover:bg-white/10 transition hover:[&amp;&gt;div:last-child]:opacity-100\"\n                  >\n                    <div\n                      class=\"flex-1 cursor-pointer\"\n                      wf-onclick=\"post('app.selectBoard', board.id)\"\n                    >\n                      <p\n                        class=\"text-sm font-semibold text-white truncate max-w-32\"\n                      >\n                        {{board.name}}\n                      </p>\n                      <p class=\"text-xs text-white/70 truncate max-w-32 mt-1\">\n                        {{((state.app.boardPeers[board.id] != null ? state.app.boardPeers[board.id] : 0) + 1)}} members\n                        online\n                      </p>\n                    </div>\n                    <div\n                      class=\"items-center gap-2 text-lg text-white/70 opacity-0 transition inline-flex\"\n                    >\n                      <span\n                        class=\"nf nf-md-content_copy hover:text-white cursor-pointer\"\n                        wf-onclick=\"post('app.copyBoardLink', board.id)\"\n                      ></span>\n                      <span\n                        class=\"nf nf-md-pencil hover:text-white cursor-pointer\"\n                        wf-onclick=\"post('app.renameBoard', board)\"\n                      ></span>\n                      <span\n                        class=\"nf nf-md-delete hover:text-rose-200 cursor-pointer\"\n                        wf-onclick=\"post('app.deleteBoard', board)\"\n                      ></span>\n                    </div>\n                  </li>\n                </ul>\n                <button\n                  class=\"w-full px-4 py-2 text-sm font-medium text-white/80 hover:text-white hover:bg-white/10 transition\"\n                  type=\"button\"\n                  wf-onclick=\"post('app.createBoard')\"\n                  value=\"\"\n                >\n                  Create new board</button\n                ><button\n                  class=\"w-full px-4 py-2 text-sm font-medium text-white/80 hover:text-white hover:bg-white/10 transition\"\n                  type=\"button\"\n                  wf-onclick=\"post('app.createBoard')\"\n                  value=\"\"\n                  wf-if=\"top !== window\"\n                >\n                  Join board\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div\n        class=\"flex gap-6 items-start overflow-x-auto pb-8\"\n        wf-if=\"state.app.boardReady\"\n      >\n        <div class=\"w-max flex gap-4 items-start\">\n          <div\n            class=\"bg-white/90 rounded-lg shadow-xl flex flex-col w-72 group\"\n            wf-map=\"column of state.app.columns\"\n          >\n            <div class=\"border-b border-slate-100 px-6 pt-4 pb-2\">\n              <div class=\"flex items-start justify-between gap-3\">\n                <p class=\"text-lg font-semibold text-slate-900\">\n                  {{column.name}}\n                </p>\n                <button\n                  type=\"button\"\n                  class=\"text-slate-400 hover:text-rose-500 transition-opacity opacity-0 group-hover:opacity-100 focus:opacity-100 focus-visible:opacity-100\"\n                  wf-onclick=\"post('app.deleteColumn', column.id)\"\n                  title=\"Delete column\"\n                  value=\"\"\n                >\n                  <span class=\"nf nf-oct-x text-base\"></span>\n                </button>\n              </div>\n            </div>\n            <div class=\"flex-1 p-4 flex flex-col gap-3\">\n              <div\n                class=\"bg-white rounded-xl border border-slate-100 shadow-inner p-3 space-y-2 cursor-pointer hover:shadow\"\n                wf-map=\"card of column.cards\"\n                wf-onclick=\"post('app.viewCard', column.id, card.id)\"\n              >\n                <p class=\"text-sm font-medium text-slate-900\">{{card.title}}</p>\n                <p\n                  class=\"text-xs text-slate-500\"\n                  wf-if=\"card.description?.trim?.()\"\n                >\n                  {{card.description}}\n                </p>\n                <div class=\"flex items-center gap-2 text-xs text-slate-500\">\n                  <span\n                    class=\"inline-flex px-2 py-1 rounded-full bg-blue-50 text-blue-600\"\n                    wf-if=\"card.tag\"\n                    >{{card.tag}}</span\n                  >\n                  <span>{{card.ageLabel || ''}}</span>\n                </div>\n              </div>\n            </div>\n            <button\n              class=\"mx-4 mb-4 px-4 py-2 rounded-lg border border-blue-400 text-blue-600 font-medium text-sm hover:bg-blue-50 transition\"\n              type=\"button\"\n              wf-onclick=\"post('app.newCard', column.id)\"\n              value=\"\"\n            >\n              Add Card\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </body>\n</html>\n","components/Dialogs.html":"<!doctype html>\n<html>\n  <head>\n    <meta charset=\"utf-8\" />\n    <title>Dialogs.html</title>\n    <meta\n      name=\"viewport\"\n      content=\"width=device-width, initial-scale=1, maximum-scale=1\"\n    />\n    <script>\n      window.rootPrefix = /^\\/(files|preview)\\//.test(location.pathname)\n        ? location.pathname.split('/').slice(0, 4).join('/')\n        : '/';\n    </script>\n    <script type=\"module\" src=\"../webfoundry/ifdesigner.js\"></script>\n    <script src=\"../webfoundry/head.js\"></script>\n  </head>\n  <body\n    class=\"flex flex-col [&amp;&gt;div:first-child]:flex-1 min-h-screen\"\n    style=\"display: none\"\n  >\n    <div class=\"p-12 lg:p-20 flex flex-col gap-12\">\n      <div class=\"grid gap-10 lg:grid-cols-2\">\n        <form\n          id=\"PromptDialog\"\n          class=\"w-full max-w-md rounded-2xl border border-slate-200 bg-white p-6 shadow-lg flex flex-col gap-4\"\n          wf-onsubmit=\"this.submit(event)\"\n          method=\"dialog\"\n        >\n          <div class=\"space-y-1\">\n            <div class=\"text-xl font-semibold text-slate-900\">\n              {{this.props.title || 'Prompt'}}\n            </div>\n            <p class=\"text-sm text-slate-500\" wf-if=\"this.props.caption\">\n              {{this.props.caption}}\n            </p>\n          </div>\n          <input\n            class=\"w-full rounded-lg border border-slate-300 px-3 py-2 text-slate-800 placeholder-slate-400 focus:border-blue-500 focus:outline-none\"\n            wf-placeholder=\"this.props.placeholder || 'Enter a value'\"\n            wf-value=\"this.value\"\n            wf-onkeydown=\"this.handleKey(event)\"\n            value=\"\"\n          />\n          <div class=\"text-sm text-rose-500\" wf-if=\"this.error\">\n            {{this.error}}\n          </div>\n          <div class=\"flex justify-end gap-3 text-sm\">\n            <button\n              type=\"button\"\n              class=\"rounded-lg border border-slate-200 px-4 py-2 text-slate-600 hover:bg-slate-50\"\n              wf-onclick=\"this.cancel()\"\n              value=\"\"\n            >\n              Cancel\n            </button>\n            <button\n              type=\"submit\"\n              class=\"rounded-lg bg-blue-600 px-4 py-2 font-semibold text-white hover:bg-blue-500\"\n              value=\"\"\n            >\n              OK\n            </button>\n          </div>\n        </form>\n        <div\n          id=\"CardViewDialog\"\n          class=\"rounded-2xl border border-slate-200 bg-white p-6 shadow-xl flex flex-col gap-4 w-xl\"\n        >\n          <div class=\"flex items-start justify-between gap-4\">\n            <div>\n              <p class=\"text-xs uppercase tracking-wide text-slate-500\">\n                {{this.props.card?.columnName || 'Column'}}\n              </p>\n              <h2 class=\"text-2xl font-semibold text-slate-900\">\n                {{this.props.card?.title || 'Untitled card'}}\n              </h2>\n            </div>\n            <button\n              type=\"button\"\n              class=\"rounded-full border border-slate-200 text-slate-500 hover:bg-slate-50 aspect-square w-8 h-8 outline-none\"\n              wf-onclick=\"this.close()\"\n              value=\"\"\n            >\n              Ã—\n            </button>\n          </div>\n          <p class=\"text-sm leading-relaxed text-slate-600\">\n            {{this.props.card?.description || 'No description yet.'}}\n          </p>\n          <div wf-if=\"this.props.card?.tag\" class=\"flex gap-2\">\n            <span\n              class=\"inline-flex items-center rounded-full bg-blue-50 px-3 py-1 text-xs font-medium text-blue-700\"\n            >\n              {{this.props.card?.tag}}\n            </span>\n          </div>\n          <div\n            class=\"text-xs text-slate-500\"\n            wf-if=\"this.props.card?.createdAt\"\n          >\n            Created {{this.formatDate(this.props.card?.createdAt)}}\n          </div>\n          <div class=\"flex flex-wrap justify-end gap-2 text-sm\">\n            <button\n              type=\"button\"\n              class=\"rounded-lg border border-slate-200 px-4 py-2 text-slate-600 hover:bg-slate-50\"\n              wf-onclick=\"this.requestDelete()\"\n              value=\"\"\n            >\n              Delete\n            </button>\n            <button\n              type=\"button\"\n              class=\"rounded-lg bg-slate-900 px-4 py-2 font-semibold text-white hover:bg-slate-800\"\n              wf-onclick=\"this.requestEdit()\"\n              value=\"\"\n            >\n              Edit\n            </button>\n            <button\n              type=\"button\"\n              class=\"rounded-lg border border-slate-200 px-4 py-2 text-slate-600 hover:bg-slate-50\"\n              wf-onclick=\"this.close()\"\n              value=\"\"\n            >\n              Close\n            </button>\n          </div>\n        </div>\n      </div>\n      <form\n        id=\"CardEditorDialog\"\n        class=\"rounded-2xl border border-slate-200 bg-white p-6 shadow-xl flex flex-col gap-4 w-xl\"\n        wf-onsubmit=\"this.submit(event)\"\n        method=\"dialog\"\n      >\n        <div class=\"space-y-1\">\n          <div class=\"text-xl font-semibold text-slate-900\">\n            {{this.props.mode === 'edit' ? 'Edit card' : 'New card'}}\n          </div>\n          <p class=\"text-sm text-slate-500\">\n            Give your card a clear name, status, and description so\n            collaborators stay in sync.\n          </p>\n        </div>\n        <label class=\"flex flex-col gap-1 text-sm text-slate-600\">\n          Title\n          <input\n            class=\"rounded-lg border border-slate-300 px-3 py-2 text-slate-800 focus:border-blue-500 focus:outline-none\"\n            wf-value=\"this.form.title\"\n            value=\"\"\n          />\n        </label>\n        <label class=\"flex flex-col gap-1 text-sm text-slate-600\">\n          Description\n          <textarea\n            class=\"min-h-[120px] rounded-lg border border-slate-300 px-3 py-2 text-slate-800 focus:border-blue-500 focus:outline-none\"\n            wf-value=\"this.form.description\"\n            value=\"\"\n          ></textarea>\n        </label>\n        <div class=\"grid gap-4 md:grid-cols-2\">\n          <label class=\"flex flex-col gap-1 text-sm text-slate-600\">\n            Tag\n            <input\n              class=\"rounded-lg border border-slate-300 px-3 py-2 text-slate-800 focus:border-blue-500 focus:outline-none\"\n              wf-value=\"this.form.tag\"\n              placeholder=\"e.g. Design\"\n              value=\"\"\n            />\n          </label>\n          <label class=\"flex flex-col gap-1 text-sm text-slate-600\">\n            Column\n            <select\n              class=\"rounded-lg border border-slate-300 px-3 py-2 text-slate-800 focus:border-blue-500 focus:outline-none\"\n              wf-value=\"this.form.columnId\"\n              value=\"\"\n            >\n              <option\n                wf-map=\"column of this.props.columns\"\n                wf-value=\"column.id\"\n                value=\"\"\n                selected=\"\"\n              >\n                {{column.name}}\n              </option>\n            </select>\n          </label>\n        </div>\n        <div class=\"text-sm text-rose-500\" wf-if=\"this.error\">\n          {{this.error}}\n        </div>\n        <div class=\"flex justify-end gap-3 text-sm\">\n          <button\n            type=\"button\"\n            class=\"rounded-lg border border-slate-200 px-4 py-2 text-slate-600 hover:bg-slate-50\"\n            wf-onclick=\"this.cancel()\"\n            value=\"\"\n          >\n            Cancel\n          </button>\n          <button\n            type=\"submit\"\n            class=\"rounded-lg bg-blue-600 px-4 py-2 font-semibold text-white hover:bg-blue-500\"\n            value=\"\"\n          >\n            Save card\n          </button>\n        </div>\n      </form>\n    </div>\n  </body>\n</html>\n"}